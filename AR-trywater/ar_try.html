<!DOCTYPE html>
<html>

<head>
    <title>AR fail</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">

    <script src="../js/aframe-1.4.0/dist/aframe-master.js"></script>
    <script src="../js/aframe-1.4.0/dist/aframe-master.min.js"></script>
    <script src='../js/AR.js-master/three.js/build/ar-threex-location-only.js'></script>
    <script src='../js/AR.js-master/aframe/build/aframe-ar.js'></script>
    <script src="../js/src/aframe-event-set-component.js"></script>
    <script src="../js/src/extra-stats.umd.min.js"></script>
    <script src="../js/src/aframe-physics-system.js"></script>


</head>

<body>


    <a-scene >
        <!-- <a-camera id="cam" position="0 0 0"></a-camera> -->
        <a-box id='box1' scale="0.3 0.3 0.4" position="0 -0.5 -1" color='green'></a-box>
        <a-box id='box2' scale="0.6 0.2 0.3" gps-entity-place='latitude: 23.133266;longitude: 113.283304;'
            position="0 -0.5 -1" color='red'></a-box>
        <a-text id="txt" , value="Hello, world!" position="-0.5 -0 -1  " color="black" scale="1 1 1"></a-text>

    </a-scene>
        <div style="position: fixed; bottom: 0; left: 0;">
            <button id="but" onclick="size()">size1</button>
        </div>

    <script>
        // cameraLatitude = 23.1332;
        // cameraLongitude = 113.283274;
        // 创建 <a-camera> 元素
        var newEntity = document.createElement('a-camera');
        // 设置属性
        newEntity.setAttribute('id','cam')
        newEntity.setAttribute('arjs-device-orientation-controls', 'smoothingFactor: 0.8');
        newEntity.setAttribute('gps-camera', 'simulateLatitude: ' + 23.133266 + '; simulateLongitude: ' + 113.283304);
        newEntity.setAttribute('cursor', 'rayOrigin: mouse');
        document.querySelector('a-scene').appendChild(newEntity);

        let box1 = document.querySelector('#box1');
        box1.setAttribute('gps-entity-place', { latitude: 23.13326, longitude: 113.283304 });

        let c = document.querySelector('#cam');
        let t = document.querySelector('#txt');


        let x = 0;
        
        function size()
        {
            x = x+0.0000001
            var latt = 23.133266+x;
            var longg = 113.283304-x
            c.setAttribute('gps-camera', 'simulateLatitude: ' + latt + '; simulateLongitude: ' + longg);
            t.setAttribute('value','sadd')
        }

        var button = document.getElementById("but");

            // 设置按钮的宽度和高度
            button.style.width = "90px";
            button.style.height = "90px";
    </script>

    <script>
        function changePos(position)
        {
        var latt = position.coords.latitude;
        var longg = position.coords.longitude;
        c.setAttribute('gps-camera', 'simulateLatitude: ' + latt + '; simulateLongitude: ' + longg);
        t.setAttribute('value','lat: '+latt.toFixed(6)+' long: '+longg.toFixed(6));

        }
        function showError(error){t.setAttribute('value', 'error')}
        navigator.geolocation.watchPosition(changePos,showError);
    </script>



</body>

</html>
