<!DOCTYPE html>
<html>

<head>
    <title>AR</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <script src="dist/aframe-master.js"></script>
    <script src='build/ar-threex-location-only.js'></script>
    <script src='build/aframe-ar.js'></script>
    <script src="src/aframe-event-set-component.js"></script>
    <script src="src/extra-stats.umd.min.js"></script>
    <script src="src/aframe-physics-system.js"></script>


</head>

<body>
    <a-scene gps-camera="gpsEnabled: true" renderer="antialias: true">
        <a-entity id="target" gps-projected-entity-place lat="23.133266" lon="113.283274" elevation="0">
            <a-entity geometry="primitive: sphere; radius: 0.5" material="color: red" position="0 0 0">
            </a-entity>
        </a-entity>
    </a-scene>


        <script>
        AFRAME.registerComponent("scale-on-distance", {
            schema: {
                target: { type: "selector" }
            },
            init: function () {
                this.scale = this.el.getAttribute("scale");
                this.camera = document.querySelector("[gps-camera]");
            },
            tick: function () {
                var distance = this.el.object3D.position.distanceTo(this.camera.object3D.position);
                this.el.setAttribute("scale", {
                    x: this.scale.x * distance,
                    y: this.scale.y * distance,
                    z: this.scale.z * distance
                });
            }
        });

        var target = document.querySelector("#target");
        target.setAttribute("scale-on-distance", { target: target });
    </script>

</body>

</html>
